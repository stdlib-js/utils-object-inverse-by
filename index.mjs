// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@v0.2.0-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object-like@v0.2.0-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";function d(d,l,a){var p,j,h,u,f,v,c,b,g;if(!i(d))throw new TypeError(m("invalid argument. First argument must be an object (except null). Value: `%s`.",d));if(p=!0,2===arguments.length)c=l;else{if(!e(l))throw new TypeError(m("invalid argument. Options argument must be an object. Value: `%s`.",l));if(o(l,"duplicates")&&(p=l.duplicates,!r(p)))throw new TypeError(m("invalid option. `%s` option must be a boolean. Option: `%s`.","duplicates",p));c=a}if(!n(c))throw new TypeError(m("invalid argument. Last argument must be a function. Value: `%s`.",c));if(h=(j=s(d)).length,v={},p)for(g=0;g<h;g++)f=c(u=j[g],d[u],d),o(v,f)?(b=v[f],t(b)?v[f].push(u):v[f]=[b,u]):v[f]=u;else for(g=0;g<h;g++)v[f=c(u=j[g],d[u],d)]=u;return v}export{d as default};
//# sourceMappingURL=index.mjs.map
