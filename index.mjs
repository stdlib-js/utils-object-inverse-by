// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var m=s,l=e,p=t,j=r,h=i.isPrimitive,a=n,f=o,c=d;var u=function(s,e,t){var r,i,n,o,d,u,b,g,v;if(!j(s))throw new TypeError(c("invalid argument. First argument must be an object (except null). Value: `%s`.",s));if(r=!0,2===arguments.length)b=e;else{if(!p(e))throw new TypeError(c("0l02h",e));if(f(e,"duplicates")&&(r=e.duplicates,!h(r)))throw new TypeError(c("0l030","duplicates",r));b=t}if(!a(b))throw new TypeError(c("0l043",b));if(n=(i=m(s)).length,u={},r)for(v=0;v<n;v++)d=b(o=i[v],s[o],s),f(u,d)?(g=u[d],l(g)?u[d].push(o):u[d]=[g,o]):u[d]=o;else for(v=0;v<n;v++)u[d=b(o=i[v],s[o],s)]=o;return u};export{u as default};
//# sourceMappingURL=index.mjs.map
